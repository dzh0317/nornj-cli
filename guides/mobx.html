<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用Mobx管理React组件状态 | NornJ CLI</title>
    <meta name="description" content="🛠️ An Easily Configurable and Scalable Scaffolding tool">
    <link rel="icon" href="/nornj-cli/favicon.png">
  <link rel="manifest" href="/nornj-cli/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/nornj-cli/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/nornj-cli/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/nornj-cli/assets/css/0.styles.f5d1342c.css" as="style"><link rel="preload" href="/nornj-cli/assets/js/app.686163a9.js" as="script"><link rel="preload" href="/nornj-cli/assets/js/3.044bb90b.js" as="script"><link rel="preload" href="/nornj-cli/assets/js/43.f8918937.js" as="script"><link rel="prefetch" href="/nornj-cli/assets/js/10.0a4d3748.js"><link rel="prefetch" href="/nornj-cli/assets/js/11.2ebbb2fd.js"><link rel="prefetch" href="/nornj-cli/assets/js/12.9ac6bc63.js"><link rel="prefetch" href="/nornj-cli/assets/js/13.49145699.js"><link rel="prefetch" href="/nornj-cli/assets/js/14.a9d9287f.js"><link rel="prefetch" href="/nornj-cli/assets/js/15.0d36d88f.js"><link rel="prefetch" href="/nornj-cli/assets/js/16.f212924f.js"><link rel="prefetch" href="/nornj-cli/assets/js/17.37902f37.js"><link rel="prefetch" href="/nornj-cli/assets/js/18.774d9cc7.js"><link rel="prefetch" href="/nornj-cli/assets/js/19.0d32d613.js"><link rel="prefetch" href="/nornj-cli/assets/js/20.dbae6c26.js"><link rel="prefetch" href="/nornj-cli/assets/js/21.07063763.js"><link rel="prefetch" href="/nornj-cli/assets/js/22.ca62bc95.js"><link rel="prefetch" href="/nornj-cli/assets/js/23.fe8f5adc.js"><link rel="prefetch" href="/nornj-cli/assets/js/24.9ae085bd.js"><link rel="prefetch" href="/nornj-cli/assets/js/25.87d9c92d.js"><link rel="prefetch" href="/nornj-cli/assets/js/26.c4ad5084.js"><link rel="prefetch" href="/nornj-cli/assets/js/27.b1233d47.js"><link rel="prefetch" href="/nornj-cli/assets/js/28.47461ace.js"><link rel="prefetch" href="/nornj-cli/assets/js/29.c6b4b8fa.js"><link rel="prefetch" href="/nornj-cli/assets/js/30.80a2b130.js"><link rel="prefetch" href="/nornj-cli/assets/js/31.6871cab6.js"><link rel="prefetch" href="/nornj-cli/assets/js/32.fc5f23f1.js"><link rel="prefetch" href="/nornj-cli/assets/js/33.9fcda592.js"><link rel="prefetch" href="/nornj-cli/assets/js/34.e736b311.js"><link rel="prefetch" href="/nornj-cli/assets/js/35.2b444282.js"><link rel="prefetch" href="/nornj-cli/assets/js/36.b5d3db4f.js"><link rel="prefetch" href="/nornj-cli/assets/js/37.ad199bee.js"><link rel="prefetch" href="/nornj-cli/assets/js/38.fbfa272a.js"><link rel="prefetch" href="/nornj-cli/assets/js/39.0bb56207.js"><link rel="prefetch" href="/nornj-cli/assets/js/4.1977180c.js"><link rel="prefetch" href="/nornj-cli/assets/js/40.e715c128.js"><link rel="prefetch" href="/nornj-cli/assets/js/41.6e30741f.js"><link rel="prefetch" href="/nornj-cli/assets/js/42.289b69ed.js"><link rel="prefetch" href="/nornj-cli/assets/js/44.f2dbff78.js"><link rel="prefetch" href="/nornj-cli/assets/js/45.be3e8f82.js"><link rel="prefetch" href="/nornj-cli/assets/js/46.966c5906.js"><link rel="prefetch" href="/nornj-cli/assets/js/47.2eed340f.js"><link rel="prefetch" href="/nornj-cli/assets/js/48.0c213771.js"><link rel="prefetch" href="/nornj-cli/assets/js/49.85af6ff5.js"><link rel="prefetch" href="/nornj-cli/assets/js/5.a60171ae.js"><link rel="prefetch" href="/nornj-cli/assets/js/50.5def39c8.js"><link rel="prefetch" href="/nornj-cli/assets/js/51.23c90d3a.js"><link rel="prefetch" href="/nornj-cli/assets/js/52.df5b773f.js"><link rel="prefetch" href="/nornj-cli/assets/js/53.9165aa40.js"><link rel="prefetch" href="/nornj-cli/assets/js/54.91f3f8b9.js"><link rel="prefetch" href="/nornj-cli/assets/js/55.46b97f76.js"><link rel="prefetch" href="/nornj-cli/assets/js/56.8b9d0651.js"><link rel="prefetch" href="/nornj-cli/assets/js/57.229a5a7e.js"><link rel="prefetch" href="/nornj-cli/assets/js/58.2ae71627.js"><link rel="prefetch" href="/nornj-cli/assets/js/59.d505c987.js"><link rel="prefetch" href="/nornj-cli/assets/js/6.0d9aa54c.js"><link rel="prefetch" href="/nornj-cli/assets/js/60.7a0b871c.js"><link rel="prefetch" href="/nornj-cli/assets/js/61.8af7441b.js"><link rel="prefetch" href="/nornj-cli/assets/js/62.b0a54e74.js"><link rel="prefetch" href="/nornj-cli/assets/js/63.d39ac98c.js"><link rel="prefetch" href="/nornj-cli/assets/js/64.e1e9700e.js"><link rel="prefetch" href="/nornj-cli/assets/js/65.66d3ff3c.js"><link rel="prefetch" href="/nornj-cli/assets/js/66.c71e7509.js"><link rel="prefetch" href="/nornj-cli/assets/js/67.97e4fe4a.js"><link rel="prefetch" href="/nornj-cli/assets/js/68.7e261eed.js"><link rel="prefetch" href="/nornj-cli/assets/js/7.76f89e11.js"><link rel="prefetch" href="/nornj-cli/assets/js/8.84b46711.js"><link rel="prefetch" href="/nornj-cli/assets/js/9.cd6c0148.js"><link rel="prefetch" href="/nornj-cli/assets/js/vendors~docsearch.135fa21b.js">
    <link rel="stylesheet" href="/nornj-cli/assets/css/0.styles.f5d1342c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/nornj-cli/" class="home-link router-link-active"><!----> <span class="site-name">NornJ CLI</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/nornj-cli/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/nornj-cli/config/" class="nav-link">Config Reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugin Dev Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/plugin-dev.html" class="nav-link">Plugin Dev Guide</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/ui-info.html" class="nav-link">UI Plugin Info</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/ui-api.html" class="nav-link">UI Plugin API</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/ui-localization.html" class="nav-link">UI Localization</a></li></ul></div></div><div class="nav-item"><a href="/nornj-cli/core-plugins/" class="nav-link">Plugins</a></div><div class="nav-item"><a href="https://github.com/vuejs/vue-cli/blob/dev/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nornj-cli/guides/mobx.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/joe-sky/nornj-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/nornj-cli/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/nornj-cli/config/" class="nav-link">Config Reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugin Dev Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/plugin-dev.html" class="nav-link">Plugin Dev Guide</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/ui-info.html" class="nav-link">UI Plugin Info</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/ui-api.html" class="nav-link">UI Plugin API</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/ui-localization.html" class="nav-link">UI Localization</a></li></ul></div></div><div class="nav-item"><a href="/nornj-cli/core-plugins/" class="nav-link">Plugins</a></div><div class="nav-item"><a href="https://github.com/vuejs/vue-cli/blob/dev/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nornj-cli/guides/mobx.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/joe-sky/nornj-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="使用mobx管理react组件状态"><a href="#使用mobx管理react组件状态" aria-hidden="true" class="header-anchor">#</a> 使用Mobx管理React组件状态</h1> <p><code>React</code>技术栈中最常用的状态管理库是<code>Redux</code>，相关的技术生态也非常完善。但是<code>Redux</code>遵循严格的函数式编程规范，需要学习的相关技术很多上手较为困难，且在很多场景下需要进行额外的性能优化。</p> <p><code>Mobx</code>与<code>Vue</code>同样基于<code>响应式编程</code>设计，可作为<code>Redux</code>的首选替代方案。其API简单容易理解，更可让开发人员享受<code>响应式编程</code>的便捷开发体验，通常无需优化也可保证高性能，故可作为<code>NornJ-cli</code>的首选<code>React</code>状态管理库。</p> <h2 id="使用-observable装饰器创建可观察对象"><a href="#使用-observable装饰器创建可观察对象" aria-hidden="true" class="header-anchor">#</a> 使用@observable装饰器创建可观察对象</h2> <p><code>Mobx</code>为React开发提供的最核心的部分就是<code>observable</code>变量，使用它基本可以完全替代<code>setState</code>函数，用非常便捷的方式为React组件更新状态。</p> <ul><li>在React组件的class中使用observable变量更新数据</li></ul> <ol><li>在helloWorld.js中定义observable变量：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> observer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx-react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> registerTmpl <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'nornj-react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> autobind <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'core-decorators'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> tmpls <span class="token keyword">from</span> <span class="token string">'./helloWorld.t.html'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./helloWorld.m.scss'</span><span class="token punctuation">;</span>

@<span class="token function">registerTmpl</span><span class="token punctuation">(</span><span class="token string">'HelloWorld'</span><span class="token punctuation">)</span>
@observer  <span class="token comment">//需要为React组件添加observer装饰器</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  @observable msg <span class="token operator">=</span> <span class="token string">'Welcome to Your React.js App'</span><span class="token punctuation">;</span>

  @autobind
  <span class="token function">onInputChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//在文本框内容变化事件中修改observable变量msg的值后，会自动触发模板中的渲染内容更新</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> tmpls<span class="token punctuation">.</span><span class="token function">helloWorld</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      styles
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>在helloWorld.t.html使用observable变量展示数据：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>helloWorld<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>{styles.hello}</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>{msg}</span> <span class="token attr-name">onChange</span><span class="token attr-value"><span class="token punctuation">=</span>{onInputChange}</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>更多@observable的详细文档请查看<a href="http://cn.mobx.js.org/refguide/observable-decorator.html" target="_blank" rel="noopener noreferrer">Mobx中文文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h2 id="使用-computed装饰器创建计算属性"><a href="#使用-computed装饰器创建计算属性" aria-hidden="true" class="header-anchor">#</a> 使用@computed装饰器创建计算属性</h2> <p>如要将上例中的msg信息改为由多个部分拼接而成，则可以使用<code>computed</code>(计算属性)来返回计算结果。</p> <ul><li>在React组件的class中使用computed更新数据</li></ul> <ol><li>在helloWorld.js中定义computed：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> observable<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx'</span><span class="token punctuation">;</span>
<span class="token operator">...</span>

@<span class="token function">registerTmpl</span><span class="token punctuation">(</span><span class="token string">'HelloWorld'</span><span class="token punctuation">)</span>
@observer
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  @observable framework <span class="token operator">=</span> <span class="token string">'React'</span><span class="token punctuation">;</span>

  @computed <span class="token keyword">get</span> <span class="token function">msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Welcome to Your '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>framework <span class="token operator">+</span> <span class="token string">'.js App'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  @autobind
  <span class="token function">onInputChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//在文本框内容变化事件中修改observable变量framework的值后，会自动触发msg计算属性的更新，并触发模板中的渲染内容更新</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>framework <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> tmpls<span class="token punctuation">.</span><span class="token function">helloWorld</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      styles
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>在helloWorld.t.html使用computed展示数据：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>helloWorld<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>{styles.hello}</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- computed在使用时和observable变量的写法相同 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>{msg}</span> <span class="token attr-name">onChange</span><span class="token attr-value"><span class="token punctuation">=</span>{onInputChange}</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>利用computed(计算属性)也可以实现很多复杂的自动计算逻辑，更多文档请查看<a href="http://cn.mobx.js.org/refguide/computed-decorator.html" target="_blank" rel="noopener noreferrer">Mobx中文文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h2 id="使用mobx-state-tree构建store"><a href="#使用mobx-state-tree构建store" aria-hidden="true" class="header-anchor">#</a> 使用Mobx-state-tree构建store</h2> <p><code>mobx-state-tree</code>是<code>Mobx</code>的状态容器方案，它以更加规范化的语法为<code>React</code>在独立的<code>store</code>中管理状态，作用类似于<code>Vue</code>生态中的<code>Vuex</code>，非常适合大型单页web应用。</p> <p>在<code>NornJ-cli</code>的<code>react-mst</code>模板中，我们默认使用<code>mobx-state-tree</code>来创建<code>store</code>来管理从后端获取的各组件数据变量，存放在独立的<code>stores</code>文件目录内。</p> <h3 id="stores目录结构"><a href="#stores目录结构" aria-hidden="true" class="header-anchor">#</a> stores目录结构</h3> <div class="language- extra-class"><pre class="language-text"><code>.
├── src                               # 源代码
    ├── stores                          # 数据集
        ├── pages                         # 功能页面Store
            ├── page1Store.js              # 页面1Store
            ├── page2Store.js              # 页面2Store
            ...       
        ├── commonStore.js                # 通用Store
        ├── headerStore.js                # 头部Store
        ├── siderStore.js                 # 侧边栏Store
        └── rootStore.js                  # 根Store
</code></pre></div><p>如上，在<code>src/stores</code>目录内存放了各类<code>store</code>，其中有：</p> <ul><li>各页面的store</li></ul> <p>各页面的<code>store</code>存放在pages目录内，每个页面会创建一个独立的<code>store</code>。</p> <ul><li>commonStore、headerStore、siderStore</li></ul> <p>页面各部分通用功能的<code>store</code>。</p> <ul><li>rootStore</li></ul> <p>根节点<code>store</code>，它里面引入了上述所有的<code>store</code>并做一些初始化配置，最终形成一棵<code>全局单一store树</code>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> types <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;mobx-state-tree&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CommonStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./commonStore&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeaderStore <span class="token keyword">from</span> <span class="token string">&quot;./headerStore&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SiderStore <span class="token keyword">from</span> <span class="token string">&quot;./siderStore&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Page1Store <span class="token keyword">from</span> <span class="token string">&quot;./pages/page1Store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Page2Store <span class="token keyword">from</span> <span class="token string">&quot;./pages/page2Store&quot;</span><span class="token punctuation">;</span>
<span class="token operator">...</span>

<span class="token keyword">const</span> RootStore <span class="token operator">=</span> types<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&quot;RootStore&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  common<span class="token punctuation">:</span> types<span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span>CommonStore<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  page1<span class="token punctuation">:</span> types<span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span>Page1Store<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> RootStore<span class="token punctuation">;</span>
</code></pre></div><h3 id="创建各页面的store"><a href="#创建各页面的store" aria-hidden="true" class="header-anchor">#</a> 创建各页面的store</h3> <p>用<a href="https://github.com/joe-sky/nornj-cli/blob/master/docs/guides/gettingStarted.md#%E8%BF%90%E8%A1%8C%E6%96%B0%E6%B7%BB%E5%8A%A0%E7%9A%84%E9%A1%B5%E9%9D%A2" target="_blank" rel="noopener noreferrer">快速起步<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>一节中提到的<code>nj ap</code>命令创建新页面时，相应页面的<code>store</code>也会在<code>src/stores/pages</code>内一起创建。</p> <p>每个<code>store</code>的结构大致如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> types <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;mobx-state-tree&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> fetchData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'flarej/lib/utils/fetchConfig'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Notification <span class="token keyword">from</span> <span class="token string">'../../utils/notification'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Page1Store <span class="token operator">=</span> types<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&quot;Page1Store&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//store名称</span>
  <span class="token comment">//此处可放置强制类型检测的observable变量</span>
  <span class="token punctuation">{</span>  
    isDisable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                                   <span class="token comment">//可直接填写简单类型值，会自动推断实际类型</span>
    framework<span class="token punctuation">:</span> types<span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span>string<span class="token punctuation">,</span> <span class="token string">'React'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">//限定为string类型值，默认值用&quot;React&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">//此处可放置不限类型的observable变量</span>
  <span class="token punctuation">.</span><span class="token function">volatile</span><span class="token punctuation">(</span><span class="token parameter">self</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    tableData<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">//通常可放置一些结构较复杂的数据类型</span>
    menuIds<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">//此处可放置计算属性</span>
  <span class="token punctuation">.</span><span class="token function">views</span><span class="token punctuation">(</span><span class="token parameter">self</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token function">msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'Welcome to Your '</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>framework <span class="token operator">+</span> <span class="token string">'.js App'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">//此处可放置各action</span>
  <span class="token punctuation">.</span><span class="token function">actions</span><span class="token punctuation">(</span><span class="token parameter">self</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setFramework</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      self<span class="token punctuation">.</span>framework <span class="token operator">=</span> v<span class="token punctuation">;</span>  <span class="token comment">//只有在action中才能改变store中的变量</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//获取后端数据可统一都定义在store的action中</span>
    <span class="token function">getTableData</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>__HOST<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/page1/getTableData`</span></span><span class="token punctuation">,</span>
        self<span class="token punctuation">.</span>setTableData<span class="token punctuation">,</span>  <span class="token comment">//将下面定义的setTableData作为fetch的回调方法</span>
        params<span class="token punctuation">,</span> <span class="token punctuation">{</span> method<span class="token punctuation">:</span> <span class="token string">'get'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Notification<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          description<span class="token punctuation">:</span> <span class="token string">'获取表格数据异常:'</span> <span class="token operator">+</span> ex<span class="token punctuation">,</span>
          duration<span class="token punctuation">:</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">setTableData</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        self<span class="token punctuation">.</span>tableData <span class="token operator">=</span> result<span class="token punctuation">.</span>data<span class="token punctuation">;</span>  <span class="token comment">//使用后端获取的数据修改store中的相应变量</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        Notification<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          description<span class="token punctuation">:</span> <span class="token string">'获取表格数据错误:'</span> <span class="token operator">+</span> result<span class="token punctuation">.</span>message<span class="token punctuation">,</span>
          duration<span class="token punctuation">:</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>同<code>Redux</code>或<code>Vuex</code>比较类似，<code>mobx-state-tree</code>的store也只能在<code>action</code>中修改store中的变量。</p> <h3 id="在各页面的react组件中使用store中的变量"><a href="#在各页面的react组件中使用store中的变量" aria-hidden="true" class="header-anchor">#</a> 在各页面的React组件中使用store中的变量</h3> <p>我们将上面使用@observable的例子改写为使用store中的数据。</p> <ol><li>在helloWorld.js中获取store并使用：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> observable<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> observer<span class="token punctuation">,</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx-react'</span><span class="token punctuation">;</span>
<span class="token operator">...</span>

@<span class="token function">registerTmpl</span><span class="token punctuation">(</span><span class="token string">'HelloWorld'</span><span class="token punctuation">)</span>
@<span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'store'</span><span class="token punctuation">)</span>  <span class="token comment">//通过inject注入store</span>
@observer
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  @autobind
  <span class="token function">onInputChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//从组件的props中获取相应页面的store</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> store<span class="token punctuation">:</span> <span class="token punctuation">{</span> page1 <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>  

    <span class="token comment">//调用store中的action修改值</span>
    page1<span class="token punctuation">.</span><span class="token function">setFramework</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> store<span class="token punctuation">:</span> <span class="token punctuation">{</span> page1 <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

    <span class="token keyword">return</span> tmpls<span class="token punctuation">.</span><span class="token function">helloWorld</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      styles<span class="token punctuation">,</span>
      page1  <span class="token comment">//将页面的store传入模板中</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>在helloWorld.t.html使用store中的值展示数据：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>helloWorld<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>{styles.hello}</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>{page1.msg}</span> <span class="token attr-name">onChange</span><span class="token attr-value"><span class="token punctuation">=</span>{onInputChange}</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="调用store中的action请求后端数据"><a href="#调用store中的action请求后端数据" aria-hidden="true" class="header-anchor">#</a> 调用store中的action请求后端数据</h3> <ol><li>在helloWorld.js中调用action：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Message <span class="token keyword">from</span> <span class="token string">'flarej/lib/components/antd/message'</span><span class="token punctuation">;</span>
<span class="token operator">...</span>

@<span class="token function">registerTmpl</span><span class="token punctuation">(</span><span class="token string">'HelloWorld'</span><span class="token punctuation">)</span>
@<span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'store'</span><span class="token punctuation">)</span>
@observer
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> store<span class="token punctuation">:</span> <span class="token punctuation">{</span> page1 <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

    <span class="token comment">//在组件初始化时请求后端数据</span>
    <span class="token keyword">const</span> closeLoading <span class="token operator">=</span> Message<span class="token punctuation">.</span><span class="token function">loading</span><span class="token punctuation">(</span><span class="token string">'正在获取数据...'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    page1<span class="token punctuation">.</span>getTableData<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">closeLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> store<span class="token punctuation">:</span> <span class="token punctuation">{</span> page1 <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

    <span class="token keyword">return</span> tmpls<span class="token punctuation">.</span><span class="token function">helloWorld</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      styles<span class="token punctuation">,</span>
      page1
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>在helloWorld.t.html使用store中的值展示数据：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>helloWorld<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>{styles.hello}</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 循环tr展示表格数据 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#each</span> <span class="token attr-name">{page1.tableData}</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#each</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>关于<code>mobx-state-tree</code>的更多详细使用方式请查看<a href="https://github.com/mobxjs/mobx-state-tree/blob/master/README.md" target="_blank" rel="noopener noreferrer">MST官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p align="left">← <a href="overview.md"><b>返回总览</b></a></p> <p align="right"><a href="httpRequest.md"><b>使用fetch请求服务端数据</b></a> →</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/joe-sky/nornj-cli/edit/master/docs/guides/mobx.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/25/2018, 8:13:32 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/nornj-cli/assets/js/app.686163a9.js" defer></script><script src="/nornj-cli/assets/js/3.044bb90b.js" defer></script><script src="/nornj-cli/assets/js/43.f8918937.js" defer></script>
  </body>
</html>
